(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5901)}])},5901:function(e,t,n){"use strict";n.r(t);var a=n(5893),l=n(9008),s=n.n(l),r=n(6154),i=n(7294);n(5675),t.default=function(){let[e,t]=(0,i.useState)(""),[n,l]=(0,i.useState)(null),[o,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!1),h=async e=>{if(e.preventDefault(),o)try{u(!0);let e=new FormData;e.append("file",o);let t=await r.Z.post("http://127.0.0.1:5000/upload",e,{headers:{"content-type":"multipart/form-data"},responseType:"blob",withCredentials:!1});console.log(t.data);let n=URL.createObjectURL(t.data);l(n),console.log(t.data),u(!1)}catch(e){var n;console.log(e),(null==e?void 0:e.response)?(null===(n=e.response)||void 0===n?void 0:n.status)===400?(u(!1),t(e.response.data.error)):(u(!1),t("Server Error")):t("No Internet connection")}else console.log(o),t("Must Upload Image")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s(),{children:(0,a.jsx)("title",{children:"Welding Defect Analyser"})}),(0,a.jsxs)("div",{className:"a",children:[(0,a.jsx)("h1",{children:"Welding Defect Analyser"}),(0,a.jsx)("div",{className:"heading",children:"Upload Image"}),(0,a.jsx)("form",{encType:"multipart/form-data",className:"form",children:(0,a.jsxs)("div",{className:"file",children:[(0,a.jsx)("input",{onChange:e=>{c(e.target.files[0]);let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onloadend=()=>{l(t.result)}},name:"img",accept:"image/*",type:"file"}),(0,a.jsx)("button",{disabled:d,onClick:e=>h(e),children:"Detect"})]})}),n?(0,a.jsx)("img",{height:"500px",src:n,alt:"image"}):"",d?(0,a.jsx)("h3",{children:"Loading..."}):"",e?(0,a.jsx)("h3",{children:e}):""]})]})}}},function(e){e.O(0,[737,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);